[33mWARNING [0m juju.client.connection:connection.py:858 unexpected facade SSHServer received from the controller
[32mINFO    [0m pytest_operator.plugin:plugin.py:806 Connecting to existing model concierge-lxd:testing on unspecified cloud
[33mWARNING [0m juju.client.connection:connection.py:858 unexpected facade SSHServer received from the controller
[33mWARNING [0m juju.client.connection:connection.py:858 unexpected facade SSHSession received from the controller
[33mWARNING [0m juju.client.connection:connection.py:858 unexpected facade SSHTunneler received from the controller
[33mWARNING [0m juju.client.connection:connection.py:858 unexpected facade SSHServer received from the controller
[33mWARNING [0m juju.client.connection:connection.py:858 unexpected facade SSHServer received from the controller
[32mINFO    [0m juju.model:__init__.py:2301 Deploying ch:amd64/jammy/postgresql-test-app-402
[32mINFO    [0m juju.model:__init__.py:2301 Deploying ch:amd64/jammy/postgresql-879
[32mINFO    [0m juju.model:__init__.py:2301 Deploying ch:amd64/jammy/pgbouncer-639
[32mINFO    [0m integration.test_upgrade_from_stable:test_upgrade_from_stable.py:53 Wait for applications to become active
[33mWARNING [0m juju.model:__init__.py:1683 relate is deprecated and will be removed. Use integrate instead.
[33mWARNING [0m juju.model:__init__.py:1683 relate is deprecated and will be removed. Use integrate instead.
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer (not enough units yet - 0/1)
  postgresql-test-app/0 [allocating] waiting: waiting for machine
  postgresql-test-app/1 [allocating] waiting: waiting for machine
  postgresql-test-app/2 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer (not enough units yet - 0/1)
  postgresql-test-app/0 [allocating] waiting: waiting for machine
  postgresql-test-app/1 [allocating] waiting: waiting for machine
  postgresql-test-app/2 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer (not enough units yet - 0/1)
  postgresql-test-app/0 [allocating] waiting: waiting for machine
  postgresql-test-app/1 [allocating] waiting: waiting for machine
  postgresql-test-app/2 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer (not enough units yet - 0/1)
  postgresql-test-app/0 [allocating] waiting: waiting for machine
  postgresql-test-app/1 [allocating] waiting: waiting for machine
  postgresql-test-app/2 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer (not enough units yet - 0/1)
  postgresql-test-app/0 [allocating] waiting: waiting for machine
  postgresql-test-app/1 [allocating] waiting: waiting for machine
  postgresql-test-app/2 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer/0 [executing] maintenance: installing charm software
  postgresql-test-app/0 [allocating] waiting: waiting for machine
  postgresql-test-app/1 [idle] blocked: No database integration available
  postgresql-test-app/2 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer/0 [executing] maintenance: Installing and configuring PgBouncer
  postgresql-test-app/0 [allocating] waiting: waiting for machine
  postgresql-test-app/1 [idle] blocked: No database integration available
  postgresql-test-app/2 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer/0 [executing] waiting: Waiting to start PgBouncer
  postgresql-test-app/0 [allocating] waiting: waiting for machine
  postgresql-test-app/1 [idle] blocked: No database integration available
  postgresql-test-app/2 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer/0 [executing] waiting: waiting for backend-database relation to connect
  postgresql-test-app/0 [allocating] waiting: waiting for machine
  postgresql-test-app/1 [idle] blocked: No database integration available
  postgresql-test-app/2 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer/0 [idle] blocked: waiting for backend database relation to initialise
  postgresql-test-app/0 [allocating] waiting: waiting for machine
  postgresql-test-app/1 [idle] blocked: No database integration available
  postgresql-test-app/2 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: agent initialising
  pgbouncer/0 [idle] blocked: waiting for backend database relation to initialise
  postgresql-test-app/0 [allocating] waiting: waiting for machine
  postgresql-test-app/1 [idle] blocked: No database integration available
  postgresql-test-app/2 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [executing] maintenance: installing PostgreSQL
  pgbouncer/0 [idle] blocked: waiting for backend database relation to initialise
  pgbouncer/1 [allocating] waiting: agent initialising
  postgresql-test-app/0 [executing] blocked: No database integration available
  postgresql-test-app/1 [idle] blocked: No database integration available
  postgresql-test-app/2 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [executing] maintenance: installing PostgreSQL
  pgbouncer/0 [idle] blocked: waiting for backend database relation to initialise
  pgbouncer/1 [executing] maintenance: Installing and configuring PgBouncer
  pgbouncer/2 [allocating] waiting: agent initialising
  postgresql-test-app/0 [executing] blocked: No database integration available
  postgresql-test-app/1 [idle] blocked: No database integration available
  postgresql-test-app/2 [executing] maintenance: installing charm software
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [executing] maintenance: installing PostgreSQL
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [executing] waiting: waiting to start PostgreSQL
  pgbouncer/0 [idle] blocked: waiting for backend database relation to initialise
  pgbouncer/1 [executing] blocked: waiting for backend database relation to initialise
  pgbouncer/2 [executing] maintenance: Installing and configuring PgBouncer
  postgresql-test-app/0 [idle] blocked: No database integration available
  postgresql-test-app/1 [idle] blocked: No database integration available
  postgresql-test-app/2 [executing] blocked: No database integration available
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [executing] maintenance: installing PostgreSQL
  postgresql/1 [executing] waiting: agent initialising
  postgresql/2 [executing] waiting: awaiting for member to start
  pgbouncer/0 [idle] blocked: waiting for backend database relation to initialise
  pgbouncer/1 [executing] blocked: waiting for backend database relation to initialise
  pgbouncer/2 [executing] blocked: waiting for backend database relation to initialise
  postgresql-test-app/0 [idle] blocked: No database integration available
  postgresql-test-app/1 [idle] blocked: No database integration available
  postgresql-test-app/2 [idle] blocked: No database integration available
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [executing] waiting: awaiting for cluster to start
  postgresql/1 [executing] maintenance: installing PostgreSQL
  postgresql/2 [executing] active: Primary (degraded)
  pgbouncer/0 [idle] blocked: waiting for backend database relation to initialise
  pgbouncer/1 [idle] blocked: waiting for backend database relation to initialise
  pgbouncer/2 [executing] blocked: waiting for backend database relation to initialise
  postgresql-test-app/0 [idle] blocked: No database integration available
  postgresql-test-app/1 [idle] blocked: No database integration available
  postgresql-test-app/2 [idle] blocked: No database integration available
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [executing] waiting: awaiting for cluster to start
  postgresql/1 [executing] waiting: awaiting for cluster to start
  postgresql/2 [executing] active: Primary (degraded)
  pgbouncer/0 [idle] blocked: waiting for backend database relation to initialise
  pgbouncer/1 [idle] blocked: waiting for backend database relation to initialise
  pgbouncer/2 [idle] blocked: waiting for backend database relation to initialise
  postgresql-test-app/0 [idle] blocked: No database integration available
  postgresql-test-app/1 [idle] blocked: No database integration available
  postgresql-test-app/2 [idle] blocked: No database integration available
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [executing] waiting: awaiting for cluster to start
  postgresql/1 [executing] waiting: awaiting for cluster to start
  postgresql/2 [executing] active: Primary (degraded)
  pgbouncer/0 [executing] active: 
  pgbouncer/1 [executing] maintenance: updating PgBouncer config
  pgbouncer/2 [executing] active: 
  postgresql-test-app/0 [idle] blocked: No database integration available
  postgresql-test-app/1 [idle] blocked: No database integration available
  postgresql-test-app/2 [idle] blocked: No database integration available
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [idle] waiting: awaiting for cluster to start
  postgresql/1 [executing] waiting: awaiting for cluster to start
  postgresql/2 [executing] active: Primary (degraded)
  pgbouncer/0 [idle] active: 
  pgbouncer/1 [idle] active: 
  postgresql-test-app/1 [idle] active: received database credentials of the first database
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [executing] waiting: awaiting for cluster to start
  postgresql/1 [idle] waiting: awaiting for cluster to start
  postgresql/2 [executing] active: Primary (degraded)
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [idle] waiting: awaiting for cluster to start
  postgresql/1 [idle] waiting: awaiting for cluster to start
  postgresql/2 [executing] maintenance: reconfiguring cluster
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [executing] maintenance: reinitialising replica
  postgresql/1 [idle] waiting: awaiting for cluster to start
  postgresql/2 [executing] maintenance: reconfiguring cluster
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [executing] active: 
  postgresql/1 [idle] waiting: awaiting for cluster to start
  postgresql/2 [executing] maintenance: reconfiguring cluster
  pgbouncer/0 [idle] active: 
  pgbouncer/1 [idle] active: 
  pgbouncer/2 [idle] active: 
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/1 [idle] waiting: awaiting for cluster to start
  postgresql/2 [executing] active: Primary (degraded)
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [executing] active: 
  postgresql/1 [executing] active: 
  postgresql/2 [executing] maintenance: reconfiguring cluster
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/0 [executing] active: 
  postgresql/1 [idle] active: 
  postgresql/2 [executing] active: 
  pgbouncer/0 [idle] active: 
  pgbouncer/1 [idle] active: 
  pgbouncer/2 [idle] active: 
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  postgresql/2 [executing] active: Primary
  pgbouncer/0 [idle] active: 
  pgbouncer/1 [idle] active: 
  pgbouncer/2 [idle] active: 
[32mINFO    [0m juju.model:__init__.py:3254 Waiting for model:
  pgbouncer/0 [idle] active: 
  pgbouncer/1 [idle] active: 
  pgbouncer/2 [idle] active: