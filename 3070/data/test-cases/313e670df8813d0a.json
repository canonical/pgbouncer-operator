{"uid":"313e670df8813d0a","name":"test_mailman3_core_db","fullName":"tests.integration.relations.test_db#test_mailman3_core_db","historyId":"810e082a5963a194044ada7622e455fd","time":{"start":1767318108037,"stop":1767318715782,"duration":607745},"description":"Deploy Mailman3 Core to test the 'db' relation.","descriptionHtml":"<p>Deploy Mailman3 Core to test the 'db' relation.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"charm_focal","time":{"start":1767318107892,"stop":1767318107892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1767318107892,"stop":1767318107892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1767318107892,"stop":1767318107893,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1767318107892,"stop":1767318107892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1767318107893,"stop":1767318108036,"duration":143},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1767318108037,"stop":1767318108037,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Deploy Mailman3 Core to test the 'db' relation.","status":"passed","steps":[],"attachments":[{"uid":"8e1ef601915f0cac","name":"log","source":"8e1ef601915f0cac.txt","type":"text/plain","size":7801}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1767318715782,"stop":1767318715782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1767319047760,"stop":1767319049280,"duration":1520},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1767319049280,"stop":1767319049280,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1767319049280,"stop":1767319049280,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1767319049280,"stop":1767319049280,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.relations"},{"name":"suite","value":"test_db"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"13492-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.relations.test_db"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"cc7842f3a48e9f7e","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":6,"broken":59,"skipped":0,"passed":452,"unknown":14,"total":531},"items":[{"uid":"792920e922e9d61b","reportUrl":"../3069//#testresult/792920e922e9d61b","status":"passed","time":{"start":1767231440009,"stop":1767232079026,"duration":639017}},{"uid":"6c1be2910b52d8cd","reportUrl":"../3068//#testresult/6c1be2910b52d8cd","status":"passed","time":{"start":1767145209387,"stop":1767145891237,"duration":681850}},{"uid":"8678ad0827a6a010","reportUrl":"../3066//#testresult/8678ad0827a6a010","status":"passed","time":{"start":1767058802716,"stop":1767059427779,"duration":625063}},{"uid":"33bee861a8079b5d","reportUrl":"../3065//#testresult/33bee861a8079b5d","status":"failed","statusDetails":"AssertionError: no postgres db url, Stderr: GNU Mailman 3.2.2 (La Villa Strangiato)\n  Python 3.8.10 (default, Mar 18 2025, 20:04:55) \n  [GCC 9.4.0]\n  config file: /etc/mailman3/mailman.cfg\n  db url: sqlite:////var/lib/mailman3/data/mailman.db\n  devmode: DISABLED\n  REST root url: http://localhost:8001/3.1/\n  REST credentials: restadmin:OmENgnOcPnsR8lwrLsTOzuqaNm+jhtkkD+fjL7WWOSa2lbUC\n  \nassert 'db url: postgres://' in 'GNU Mailman 3.2.2 (La Villa Strangiato)\\nPython 3.8.10 (default, Mar 18 2025, 20:04:55) \\n[GCC 9.4.0]\\nconfig file: /etc/mailman3/mailman.cfg\\ndb url: sqlite:////var/lib/mailman3/data/mailman.db\\ndevmode: DISABLED\\nREST root url: http://localhost:8001/3.1/\\nREST credentials: restadmin:OmENgnOcPnsR8lwrLsTOzuqaNm+jhtkkD+fjL7WWOSa2lbUC\\n'","time":{"start":1766972522593,"stop":1766973188743,"duration":666150}},{"uid":"b90cd1345b422993","reportUrl":"../3064//#testresult/b90cd1345b422993","status":"broken","statusDetails":"mailmanclient.restbase.connection.MailmanConnectionError: ('Could not connect to Mailman API: ', 'ConnectionError(MaxRetryError(\\'HTTPConnectionPool(host=\\\\\\'10.92.61.125\\\\\\', port=8001): Max retries exceeded with url: /3.1/domains (Caused by NewConnectionError(\"HTTPConnection(host=\\\\\\'10.92.61.125\\\\\\', port=8001): Failed to establish a new connection: [Errno 111] Connection refused\"))\\'))')","time":{"start":1766886276185,"stop":1766886865217,"duration":589032}},{"uid":"29e2b84afd25c6a6","reportUrl":"../3062//#testresult/29e2b84afd25c6a6","status":"passed","time":{"start":1766713373244,"stop":1766713992696,"duration":619452}},{"uid":"abf4532168b4c8e9","reportUrl":"../3061//#testresult/abf4532168b4c8e9","status":"passed","time":{"start":1766626719916,"stop":1766627351543,"duration":631627}},{"uid":"bcb8a3daeb1e0665","reportUrl":"../3060//#testresult/bcb8a3daeb1e0665","status":"passed","time":{"start":1766540389887,"stop":1766541015717,"duration":625830}},{"uid":"8c2ff854742ad8c1","reportUrl":"../3057//#testresult/8c2ff854742ad8c1","status":"passed","time":{"start":1766454238536,"stop":1766454885878,"duration":647342}},{"uid":"2e1383457875953f","reportUrl":"../3056//#testresult/2e1383457875953f","status":"passed","time":{"start":1766367564889,"stop":1766368200767,"duration":635878}},{"uid":"956c2b7cf2fc03b5","reportUrl":"../3055//#testresult/956c2b7cf2fc03b5","status":"passed","time":{"start":1766281304191,"stop":1766281924793,"duration":620602}},{"uid":"69fc3e5c81791ecb","reportUrl":"../3054//#testresult/69fc3e5c81791ecb","status":"passed","time":{"start":1766195138521,"stop":1766195808622,"duration":670101}},{"uid":"172237ba5f822a06","reportUrl":"../3053//#testresult/172237ba5f822a06","status":"passed","time":{"start":1766108229409,"stop":1766108846557,"duration":617148}},{"uid":"de71457d5cd7d069","reportUrl":"../3052//#testresult/de71457d5cd7d069","status":"passed","time":{"start":1766021824699,"stop":1766022434417,"duration":609718}},{"uid":"baed63aec9a2d9b6","reportUrl":"../3049//#testresult/baed63aec9a2d9b6","status":"passed","time":{"start":1765935407522,"stop":1765936114570,"duration":707048}},{"uid":"ec0e040fe636e8df","reportUrl":"../3044//#testresult/ec0e040fe636e8df","status":"passed","time":{"start":1765849098485,"stop":1765849776634,"duration":678149}},{"uid":"85802afc67445cf9","reportUrl":"../3043//#testresult/85802afc67445cf9","status":"passed","time":{"start":1765762695836,"stop":1765763423404,"duration":727568}},{"uid":"20a021317ced53b7","reportUrl":"../3042//#testresult/20a021317ced53b7","status":"passed","time":{"start":1765676209323,"stop":1765676840007,"duration":630684}},{"uid":"3391fa326f9bf1ed","reportUrl":"../3041//#testresult/3391fa326f9bf1ed","status":"failed","statusDetails":"AssertionError: no postgres db url, Stderr: GNU Mailman 3.2.2 (La Villa Strangiato)\n  Python 3.8.10 (default, Mar 18 2025, 20:04:55) \n  [GCC 9.4.0]\n  config file: /etc/mailman3/mailman.cfg\n  db url: sqlite:////var/lib/mailman3/data/mailman.db\n  devmode: DISABLED\n  REST root url: http://localhost:8001/3.1/\n  REST credentials: restadmin:2Jt5n5hjADOwdAtx3Tj7PDkZgbMEp+uCnLI3SaXBG1Jdq+vz\n  \nassert 'db url: postgres://' in 'GNU Mailman 3.2.2 (La Villa Strangiato)\\nPython 3.8.10 (default, Mar 18 2025, 20:04:55) \\n[GCC 9.4.0]\\nconfig file: /etc/mailman3/mailman.cfg\\ndb url: sqlite:////var/lib/mailman3/data/mailman.db\\ndevmode: DISABLED\\nREST root url: http://localhost:8001/3.1/\\nREST credentials: restadmin:2Jt5n5hjADOwdAtx3Tj7PDkZgbMEp+uCnLI3SaXBG1Jdq+vz\\n'","time":{"start":1765590094357,"stop":1765590724282,"duration":629925}},{"uid":"3b4a5a25a2056909","reportUrl":"../3039//#testresult/3b4a5a25a2056909","status":"passed","time":{"start":1765417079019,"stop":1765417691422,"duration":612403}}]},"tags":["asyncio","abort_on_fail"]},"source":"313e670df8813d0a.json","parameterValues":[]}