{"uid":"fff6db28900f2454","name":"test_mailman3_core_db","fullName":"tests.integration.relations.test_db#test_mailman3_core_db","historyId":"810e082a5963a194044ada7622e455fd","time":{"start":1769823369695,"stop":1769824052896,"duration":683201},"description":"Deploy Mailman3 Core to test the 'db' relation.","descriptionHtml":"<p>Deploy Mailman3 Core to test the 'db' relation.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1769823369504,"stop":1769823369505,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1769823369505,"stop":1769823369694,"duration":189},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1769823369505,"stop":1769823369505,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1769823369505,"stop":1769823369505,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_focal","time":{"start":1769823369505,"stop":1769823369505,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1769823369694,"stop":1769823369694,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Deploy Mailman3 Core to test the 'db' relation.","status":"passed","steps":[],"attachments":[{"uid":"ea65706c9b3d1800","name":"log","source":"ea65706c9b3d1800.txt","type":"text/plain","size":8201}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1769824052897,"stop":1769824052897,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1769824426195,"stop":1769824427969,"duration":1774},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1769824427969,"stop":1769824427969,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1769824427969,"stop":1769824427969,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1769824427969,"stop":1769824427969,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.relations"},{"name":"suite","value":"test_db"},{"name":"host","value":"runnervmkj6or"},{"name":"thread","value":"14892-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.relations.test_db"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"6d9cf42025f55590","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":7,"broken":60,"skipped":0,"passed":473,"unknown":14,"total":554},"items":[{"uid":"f18d004fbcfc0efc","reportUrl":"../3113//#testresult/f18d004fbcfc0efc","status":"passed","time":{"start":1769738159833,"stop":1769738846511,"duration":686678}},{"uid":"8c67d669c2424834","reportUrl":"../3111//#testresult/8c67d669c2424834","status":"passed","time":{"start":1769651873809,"stop":1769652528632,"duration":654823}},{"uid":"ee79a8459aa04c01","reportUrl":"../3104//#testresult/ee79a8459aa04c01","status":"passed","time":{"start":1769391318830,"stop":1769391951332,"duration":632502}},{"uid":"90ffde7aaa3fc722","reportUrl":"../3103//#testresult/90ffde7aaa3fc722","status":"failed","statusDetails":"AssertionError: no postgres db url, Stderr: GNU Mailman 3.2.2 (La Villa Strangiato)\n  Python 3.8.10 (default, Mar 18 2025, 20:04:55) \n  [GCC 9.4.0]\n  config file: /etc/mailman3/mailman.cfg\n  db url: sqlite:////var/lib/mailman3/data/mailman.db\n  devmode: DISABLED\n  REST root url: http://localhost:8001/3.1/\n  REST credentials: restadmin:MihKe7C9MDcf6R3N/VRhyKBrsE3o1pPUdQxRbGvasvwk7atB\n  \nassert 'db url: postgres://' in 'GNU Mailman 3.2.2 (La Villa Strangiato)\\nPython 3.8.10 (default, Mar 18 2025, 20:04:55) \\n[GCC 9.4.0]\\nconfig file: /etc/mailman3/mailman.cfg\\ndb url: sqlite:////var/lib/mailman3/data/mailman.db\\ndevmode: DISABLED\\nREST root url: http://localhost:8001/3.1/\\nREST credentials: restadmin:MihKe7C9MDcf6R3N/VRhyKBrsE3o1pPUdQxRbGvasvwk7atB\\n'","time":{"start":1769304970060,"stop":1769305610135,"duration":640075}},{"uid":"a53beb916cf06f0f","reportUrl":"../3102//#testresult/a53beb916cf06f0f","status":"passed","time":{"start":1769219124450,"stop":1769219743119,"duration":618669}},{"uid":"f494aad26f4e0b34","reportUrl":"../3101//#testresult/f494aad26f4e0b34","status":"passed","time":{"start":1769132196903,"stop":1769132812244,"duration":615341}},{"uid":"afcfba2f5b7ec252","reportUrl":"../3098//#testresult/afcfba2f5b7ec252","status":"passed","time":{"start":1769045711818,"stop":1769046401556,"duration":689738}},{"uid":"b75a1d9c7eb3c912","reportUrl":"../3096//#testresult/b75a1d9c7eb3c912","status":"passed","time":{"start":1768959307697,"stop":1768959976495,"duration":668798}},{"uid":"f3107d88c50fdc9c","reportUrl":"../3092//#testresult/f3107d88c50fdc9c","status":"passed","time":{"start":1768873072799,"stop":1768873768020,"duration":695221}},{"uid":"8999c39b3e951882","reportUrl":"../3088//#testresult/8999c39b3e951882","status":"passed","time":{"start":1768559319576,"stop":1768559991865,"duration":672289}},{"uid":"ecae7eed301de000","reportUrl":"../3087//#testresult/ecae7eed301de000","status":"broken","statusDetails":"mailmanclient.restbase.connection.MailmanConnectionError: ('Could not connect to Mailman API: ', 'ConnectionError(MaxRetryError(\\'HTTPConnectionPool(host=\\\\\\'10.158.25.240\\\\\\', port=8001): Max retries exceeded with url: /3.1/domains (Caused by NewConnectionError(\"HTTPConnection(host=\\\\\\'10.158.25.240\\\\\\', port=8001): Failed to establish a new connection: [Errno 111] Connection refused\"))\\'))')","time":{"start":1768354680139,"stop":1768355304342,"duration":624203}},{"uid":"17cdfde77be3215d","reportUrl":"../3085//#testresult/17cdfde77be3215d","status":"passed","time":{"start":1768268468940,"stop":1768269202218,"duration":733278}},{"uid":"a903bc62ed164987","reportUrl":"../3084//#testresult/a903bc62ed164987","status":"passed","time":{"start":1768182047126,"stop":1768182666374,"duration":619248}},{"uid":"ad13e9a7c4dac6f5","reportUrl":"../3083//#testresult/ad13e9a7c4dac6f5","status":"passed","time":{"start":1768095669718,"stop":1768096353270,"duration":683552}},{"uid":"f367b1a16182308","reportUrl":"../3082//#testresult/f367b1a16182308","status":"passed","time":{"start":1768008972848,"stop":1768009595472,"duration":622624}},{"uid":"cf76bd3191cd84eb","reportUrl":"../3080//#testresult/cf76bd3191cd84eb","status":"passed","time":{"start":1767922658569,"stop":1767923390031,"duration":731462}},{"uid":"a85b3b4a2a3e6b55","reportUrl":"../3079//#testresult/a85b3b4a2a3e6b55","status":"passed","time":{"start":1767836380857,"stop":1767837009670,"duration":628813}},{"uid":"3ab7451e3b91e1aa","reportUrl":"../3077//#testresult/3ab7451e3b91e1aa","status":"passed","time":{"start":1767749815030,"stop":1767750469937,"duration":654907}},{"uid":"1a16c847261d9732","reportUrl":"../3074//#testresult/1a16c847261d9732","status":"passed","time":{"start":1767663435929,"stop":1767664098061,"duration":662132}},{"uid":"59c226520c022a8c","reportUrl":"../3073//#testresult/59c226520c022a8c","status":"passed","time":{"start":1767576994772,"stop":1767577773383,"duration":778611}}]},"tags":["asyncio","abort_on_fail"]},"source":"fff6db28900f2454.json","parameterValues":[]}