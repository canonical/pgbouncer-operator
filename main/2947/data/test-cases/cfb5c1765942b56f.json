{"uid":"cfb5c1765942b56f","name":"test_mailman3_core_db","fullName":"tests.integration.relations.test_db#test_mailman3_core_db","historyId":"810e082a5963a194044ada7622e455fd","time":{"start":1760319453493,"stop":1760320162947,"duration":709454},"description":"Deploy Mailman3 Core to test the 'db' relation.","descriptionHtml":"<p>Deploy Mailman3 Core to test the 'db' relation.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1760319453351,"stop":1760319453351,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1760319453351,"stop":1760319453351,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_focal","time":{"start":1760319453351,"stop":1760319453351,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1760319453351,"stop":1760319453351,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1760319453351,"stop":1760319453493,"duration":142},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1760319453493,"stop":1760319453493,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Deploy Mailman3 Core to test the 'db' relation.","status":"passed","steps":[],"attachments":[{"uid":"ef4f288cb23aa06c","name":"log","source":"ef4f288cb23aa06c.txt","type":"text/plain","size":8260}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1760320162947,"stop":1760320162947,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1760320551463,"stop":1760320552958,"duration":1495},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1760320552958,"stop":1760320552958,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1760320552958,"stop":1760320552958,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1760320552958,"stop":1760320552958,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.relations"},{"name":"suite","value":"test_db"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"15974-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.relations.test_db"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"33e55185d15c9123","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":1,"broken":51,"skipped":0,"passed":400,"unknown":14,"total":466},"items":[{"uid":"80618ac25d955121","reportUrl":"../2946//#testresult/80618ac25d955121","status":"passed","time":{"start":1760233027274,"stop":1760233728524,"duration":701250}},{"uid":"e4d805932a7c6672","reportUrl":"../2945//#testresult/e4d805932a7c6672","status":"passed","time":{"start":1760146626873,"stop":1760147337833,"duration":710960}},{"uid":"b93315656a045bb3","reportUrl":"../2944//#testresult/b93315656a045bb3","status":"passed","time":{"start":1760060220015,"stop":1760060910750,"duration":690735}},{"uid":"8ef0c0513109964c","reportUrl":"../2943//#testresult/8ef0c0513109964c","status":"failed","statusDetails":"AssertionError: no postgres db url, Stderr: GNU Mailman 3.2.2 (La Villa Strangiato)\n  Python 3.8.10 (default, Mar 18 2025, 20:04:55) \n  [GCC 9.4.0]\n  config file: /etc/mailman3/mailman.cfg\n  db url: sqlite:////var/lib/mailman3/data/mailman.db\n  devmode: DISABLED\n  REST root url: http://localhost:8001/3.1/\n  REST credentials: restadmin:XRlZSzstieBs+/QQf8opUWz8yxucoaz0eMOCV1qviHNvgVgT\n  \nassert 'db url: postgres://' in 'GNU Mailman 3.2.2 (La Villa Strangiato)\\nPython 3.8.10 (default, Mar 18 2025, 20:04:55) \\n[GCC 9.4.0]\\nconfig file: /etc/mailman3/mailman.cfg\\ndb url: sqlite:////var/lib/mailman3/data/mailman.db\\ndevmode: DISABLED\\nREST root url: http://localhost:8001/3.1/\\nREST credentials: restadmin:XRlZSzstieBs+/QQf8opUWz8yxucoaz0eMOCV1qviHNvgVgT\\n'","time":{"start":1759973784268,"stop":1759974435564,"duration":651296}},{"uid":"f56821e3bcf2a893","reportUrl":"../2941//#testresult/f56821e3bcf2a893","status":"passed","time":{"start":1759887400347,"stop":1759888082760,"duration":682413}},{"uid":"a37b5cf2d37abba4","reportUrl":"../2940//#testresult/a37b5cf2d37abba4","status":"passed","time":{"start":1759800936319,"stop":1759801550666,"duration":614347}},{"uid":"2327d95bfbe02d3b","reportUrl":"../2939//#testresult/2327d95bfbe02d3b","status":"passed","time":{"start":1759714611241,"stop":1759715258728,"duration":647487}},{"uid":"a731fe691b3ae316","reportUrl":"../2938//#testresult/a731fe691b3ae316","status":"passed","time":{"start":1759628238071,"stop":1759628904641,"duration":666570}},{"uid":"25b75cad1b287903","reportUrl":"../2936//#testresult/25b75cad1b287903","status":"passed","time":{"start":1759541908424,"stop":1759542580147,"duration":671723}},{"uid":"a701387534328b97","reportUrl":"../2935//#testresult/a701387534328b97","status":"passed","time":{"start":1759455372707,"stop":1759456015003,"duration":642296}},{"uid":"a0d076d3c43d420b","reportUrl":"../2934//#testresult/a0d076d3c43d420b","status":"passed","time":{"start":1759369010905,"stop":1759369735091,"duration":724186}},{"uid":"492d7667a82f91ee","reportUrl":"../2932//#testresult/492d7667a82f91ee","status":"passed","time":{"start":1759282620836,"stop":1759283323339,"duration":702503}},{"uid":"ad997a41527ce633","reportUrl":"../2931//#testresult/ad997a41527ce633","status":"passed","time":{"start":1759198221777,"stop":1759198952003,"duration":730226}},{"uid":"86420bb8f01b1675","reportUrl":"../2929//#testresult/86420bb8f01b1675","status":"broken","statusDetails":"mailmanclient.restbase.connection.MailmanConnectionError: ('Could not connect to Mailman API: ', 'ConnectionError(MaxRetryError(\"HTTPConnectionPool(host=\\'10.178.119.85\\', port=8001): Max retries exceeded with url: /3.1/domains (Caused by NewConnectionError(\\'<urllib3.connection.HTTPConnection object at 0x7fcaf3d7dd30>: Failed to establish a new connection: [Errno 111] Connection refused\\'))\"))')","time":{"start":1759110042158,"stop":1759110725557,"duration":683399}},{"uid":"b42ba841e6671c","reportUrl":"../2928//#testresult/b42ba841e6671c","status":"passed","time":{"start":1759023993035,"stop":1759024783392,"duration":790357}},{"uid":"a4e02c9273c46516","reportUrl":"../2927//#testresult/a4e02c9273c46516","status":"passed","time":{"start":1758937412584,"stop":1758938123342,"duration":710758}},{"uid":"c8d3ff96990150ae","reportUrl":"../2925//#testresult/c8d3ff96990150ae","status":"passed","time":{"start":1758850703148,"stop":1758851383141,"duration":679993}},{"uid":"4c4f7ec8a0b25940","reportUrl":"../2922//#testresult/4c4f7ec8a0b25940","status":"passed","time":{"start":1758764269521,"stop":1758765018404,"duration":748883}},{"uid":"6e16da5930d4dbb0","reportUrl":"../2921//#testresult/6e16da5930d4dbb0","status":"passed","time":{"start":1758677920404,"stop":1758678606303,"duration":685899}},{"uid":"3c0975da2ef46029","reportUrl":"../2919//#testresult/3c0975da2ef46029","status":"passed","time":{"start":1758591468228,"stop":1758592167116,"duration":698888}}]},"tags":["asyncio","abort_on_fail"]},"source":"cfb5c1765942b56f.json","parameterValues":[]}