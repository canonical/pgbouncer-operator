{"uid":"c94f6f0eea292058","name":"test_mailman3_core_db","fullName":"tests.integration.relations.test_db#test_mailman3_core_db","historyId":"810e082a5963a194044ada7622e455fd","time":{"start":1770600974889,"stop":1770601685512,"duration":710623},"description":"Deploy Mailman3 Core to test the 'db' relation.","descriptionHtml":"<p>Deploy Mailman3 Core to test the 'db' relation.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1770600974709,"stop":1770600974710,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1770600974710,"stop":1770600974710,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1770600974710,"stop":1770600974710,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_focal","time":{"start":1770600974710,"stop":1770600974710,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1770600974710,"stop":1770600974888,"duration":178},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1770600974888,"stop":1770600974888,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Deploy Mailman3 Core to test the 'db' relation.","status":"passed","steps":[],"attachments":[{"uid":"c4aac55a143a6bb9","name":"log","source":"c4aac55a143a6bb9.txt","type":"text/plain","size":8468}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1770601685512,"stop":1770601685512,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1770602052310,"stop":1770602053912,"duration":1602},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1770602053912,"stop":1770602053912,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1770602053912,"stop":1770602053912,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1770602053912,"stop":1770602053912,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.relations"},{"name":"suite","value":"test_db"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"15896-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.relations.test_db"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"56682783effe054c","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":7,"broken":61,"skipped":0,"passed":481,"unknown":14,"total":563},"items":[{"uid":"4ee11bb62b62ae54","reportUrl":"../3129//#testresult/4ee11bb62b62ae54","status":"passed","time":{"start":1770514661959,"stop":1770515306050,"duration":644091}},{"uid":"13c8d1c3e9185c20","reportUrl":"../3128//#testresult/13c8d1c3e9185c20","status":"passed","time":{"start":1770428156412,"stop":1770428791856,"duration":635444}},{"uid":"10f72d1b35792585","reportUrl":"../3125//#testresult/10f72d1b35792585","status":"passed","time":{"start":1770341783152,"stop":1770342446788,"duration":663636}},{"uid":"63c616151b349350","reportUrl":"../3124//#testresult/63c616151b349350","status":"passed","time":{"start":1770255420632,"stop":1770256138225,"duration":717593}},{"uid":"3935adab67649075","reportUrl":"../3123//#testresult/3935adab67649075","status":"passed","time":{"start":1770168990793,"stop":1770169648240,"duration":657447}},{"uid":"cd73348b0ec778c1","reportUrl":"../3121//#testresult/cd73348b0ec778c1","status":"passed","time":{"start":1770083718926,"stop":1770084398204,"duration":679278}},{"uid":"f24bad842581f528","reportUrl":"../3116//#testresult/f24bad842581f528","status":"passed","time":{"start":1769996167916,"stop":1769996858249,"duration":690333}},{"uid":"1d419933f06e71f8","reportUrl":"../3115//#testresult/1d419933f06e71f8","status":"broken","statusDetails":"mailmanclient.restbase.connection.MailmanConnectionError: ('Could not connect to Mailman API: ', 'ConnectionError(MaxRetryError(\\'HTTPConnectionPool(host=\\\\\\'10.221.154.193\\\\\\', port=8001): Max retries exceeded with url: /3.1/domains (Caused by NewConnectionError(\"HTTPConnection(host=\\\\\\'10.221.154.193\\\\\\', port=8001): Failed to establish a new connection: [Errno 111] Connection refused\"))\\'))')","time":{"start":1769909777945,"stop":1769910502431,"duration":724486}},{"uid":"fff6db28900f2454","reportUrl":"../3114//#testresult/fff6db28900f2454","status":"passed","time":{"start":1769823369695,"stop":1769824052896,"duration":683201}},{"uid":"f18d004fbcfc0efc","reportUrl":"../3113//#testresult/f18d004fbcfc0efc","status":"passed","time":{"start":1769738159833,"stop":1769738846511,"duration":686678}},{"uid":"8c67d669c2424834","reportUrl":"../3111//#testresult/8c67d669c2424834","status":"passed","time":{"start":1769651873809,"stop":1769652528632,"duration":654823}},{"uid":"ee79a8459aa04c01","reportUrl":"../3104//#testresult/ee79a8459aa04c01","status":"passed","time":{"start":1769391318830,"stop":1769391951332,"duration":632502}},{"uid":"90ffde7aaa3fc722","reportUrl":"../3103//#testresult/90ffde7aaa3fc722","status":"failed","statusDetails":"AssertionError: no postgres db url, Stderr: GNU Mailman 3.2.2 (La Villa Strangiato)\n  Python 3.8.10 (default, Mar 18 2025, 20:04:55) \n  [GCC 9.4.0]\n  config file: /etc/mailman3/mailman.cfg\n  db url: sqlite:////var/lib/mailman3/data/mailman.db\n  devmode: DISABLED\n  REST root url: http://localhost:8001/3.1/\n  REST credentials: restadmin:MihKe7C9MDcf6R3N/VRhyKBrsE3o1pPUdQxRbGvasvwk7atB\n  \nassert 'db url: postgres://' in 'GNU Mailman 3.2.2 (La Villa Strangiato)\\nPython 3.8.10 (default, Mar 18 2025, 20:04:55) \\n[GCC 9.4.0]\\nconfig file: /etc/mailman3/mailman.cfg\\ndb url: sqlite:////var/lib/mailman3/data/mailman.db\\ndevmode: DISABLED\\nREST root url: http://localhost:8001/3.1/\\nREST credentials: restadmin:MihKe7C9MDcf6R3N/VRhyKBrsE3o1pPUdQxRbGvasvwk7atB\\n'","time":{"start":1769304970060,"stop":1769305610135,"duration":640075}},{"uid":"a53beb916cf06f0f","reportUrl":"../3102//#testresult/a53beb916cf06f0f","status":"passed","time":{"start":1769219124450,"stop":1769219743119,"duration":618669}},{"uid":"f494aad26f4e0b34","reportUrl":"../3101//#testresult/f494aad26f4e0b34","status":"passed","time":{"start":1769132196903,"stop":1769132812244,"duration":615341}},{"uid":"afcfba2f5b7ec252","reportUrl":"../3098//#testresult/afcfba2f5b7ec252","status":"passed","time":{"start":1769045711818,"stop":1769046401556,"duration":689738}},{"uid":"b75a1d9c7eb3c912","reportUrl":"../3096//#testresult/b75a1d9c7eb3c912","status":"passed","time":{"start":1768959307697,"stop":1768959976495,"duration":668798}},{"uid":"f3107d88c50fdc9c","reportUrl":"../3092//#testresult/f3107d88c50fdc9c","status":"passed","time":{"start":1768873072799,"stop":1768873768020,"duration":695221}},{"uid":"8999c39b3e951882","reportUrl":"../3088//#testresult/8999c39b3e951882","status":"passed","time":{"start":1768559319576,"stop":1768559991865,"duration":672289}},{"uid":"ecae7eed301de000","reportUrl":"../3087//#testresult/ecae7eed301de000","status":"broken","statusDetails":"mailmanclient.restbase.connection.MailmanConnectionError: ('Could not connect to Mailman API: ', 'ConnectionError(MaxRetryError(\\'HTTPConnectionPool(host=\\\\\\'10.158.25.240\\\\\\', port=8001): Max retries exceeded with url: /3.1/domains (Caused by NewConnectionError(\"HTTPConnection(host=\\\\\\'10.158.25.240\\\\\\', port=8001): Failed to establish a new connection: [Errno 111] Connection refused\"))\\'))')","time":{"start":1768354680139,"stop":1768355304342,"duration":624203}}]},"tags":["asyncio","abort_on_fail"]},"source":"c94f6f0eea292058.json","parameterValues":[]}