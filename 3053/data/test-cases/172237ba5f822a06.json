{"uid":"172237ba5f822a06","name":"test_mailman3_core_db","fullName":"tests.integration.relations.test_db#test_mailman3_core_db","historyId":"810e082a5963a194044ada7622e455fd","time":{"start":1766108229409,"stop":1766108846557,"duration":617148},"description":"Deploy Mailman3 Core to test the 'db' relation.","descriptionHtml":"<p>Deploy Mailman3 Core to test the 'db' relation.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1766108229226,"stop":1766108229226,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1766108229227,"stop":1766108229227,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1766108229227,"stop":1766108229227,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1766108229227,"stop":1766108229409,"duration":182},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_focal","time":{"start":1766108229227,"stop":1766108229227,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1766108229409,"stop":1766108229409,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Deploy Mailman3 Core to test the 'db' relation.","status":"passed","steps":[],"attachments":[{"uid":"ab5bad0542eb9c28","name":"log","source":"ab5bad0542eb9c28.txt","type":"text/plain","size":8025}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1766108846557,"stop":1766108846557,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1766109176309,"stop":1766109177914,"duration":1605},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1766109177915,"stop":1766109177919,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1766109177920,"stop":1766109177920,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1766109177920,"stop":1766109177920,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.relations"},{"name":"suite","value":"test_db"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"13569-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.relations.test_db"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"2d3c12ab9987aaf0","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":5,"broken":58,"skipped":0,"passed":441,"unknown":14,"total":518},"items":[{"uid":"de71457d5cd7d069","reportUrl":"../3052//#testresult/de71457d5cd7d069","status":"passed","time":{"start":1766021824699,"stop":1766022434417,"duration":609718}},{"uid":"baed63aec9a2d9b6","reportUrl":"../3049//#testresult/baed63aec9a2d9b6","status":"passed","time":{"start":1765935407522,"stop":1765936114570,"duration":707048}},{"uid":"ec0e040fe636e8df","reportUrl":"../3044//#testresult/ec0e040fe636e8df","status":"passed","time":{"start":1765849098485,"stop":1765849776634,"duration":678149}},{"uid":"85802afc67445cf9","reportUrl":"../3043//#testresult/85802afc67445cf9","status":"passed","time":{"start":1765762695836,"stop":1765763423404,"duration":727568}},{"uid":"20a021317ced53b7","reportUrl":"../3042//#testresult/20a021317ced53b7","status":"passed","time":{"start":1765676209323,"stop":1765676840007,"duration":630684}},{"uid":"3391fa326f9bf1ed","reportUrl":"../3041//#testresult/3391fa326f9bf1ed","status":"failed","statusDetails":"AssertionError: no postgres db url, Stderr: GNU Mailman 3.2.2 (La Villa Strangiato)\n  Python 3.8.10 (default, Mar 18 2025, 20:04:55) \n  [GCC 9.4.0]\n  config file: /etc/mailman3/mailman.cfg\n  db url: sqlite:////var/lib/mailman3/data/mailman.db\n  devmode: DISABLED\n  REST root url: http://localhost:8001/3.1/\n  REST credentials: restadmin:2Jt5n5hjADOwdAtx3Tj7PDkZgbMEp+uCnLI3SaXBG1Jdq+vz\n  \nassert 'db url: postgres://' in 'GNU Mailman 3.2.2 (La Villa Strangiato)\\nPython 3.8.10 (default, Mar 18 2025, 20:04:55) \\n[GCC 9.4.0]\\nconfig file: /etc/mailman3/mailman.cfg\\ndb url: sqlite:////var/lib/mailman3/data/mailman.db\\ndevmode: DISABLED\\nREST root url: http://localhost:8001/3.1/\\nREST credentials: restadmin:2Jt5n5hjADOwdAtx3Tj7PDkZgbMEp+uCnLI3SaXBG1Jdq+vz\\n'","time":{"start":1765590094357,"stop":1765590724282,"duration":629925}},{"uid":"3b4a5a25a2056909","reportUrl":"../3039//#testresult/3b4a5a25a2056909","status":"passed","time":{"start":1765417079019,"stop":1765417691422,"duration":612403}},{"uid":"9de54846734b7f30","reportUrl":"../3036//#testresult/9de54846734b7f30","status":"passed","time":{"start":1765244301639,"stop":1765244962830,"duration":661191}},{"uid":"cc0cd01efae91255","reportUrl":"../3035//#testresult/cc0cd01efae91255","status":"passed","time":{"start":1765157889253,"stop":1765158564388,"duration":675135}},{"uid":"414a3e6df22fd9af","reportUrl":"../3034//#testresult/414a3e6df22fd9af","status":"failed","statusDetails":"AssertionError: no postgres db url, Stderr: GNU Mailman 3.2.2 (La Villa Strangiato)\n  Python 3.8.10 (default, Mar 18 2025, 20:04:55) \n  [GCC 9.4.0]\n  config file: /etc/mailman3/mailman.cfg\n  db url: sqlite:////var/lib/mailman3/data/mailman.db\n  devmode: DISABLED\n  REST root url: http://localhost:8001/3.1/\n  REST credentials: restadmin:ecDMTGsgk5nW/lGDt6gczxQcDFWCiA+t4W4HIGJ8IWllqZX3\n  \nassert 'db url: postgres://' in 'GNU Mailman 3.2.2 (La Villa Strangiato)\\nPython 3.8.10 (default, Mar 18 2025, 20:04:55) \\n[GCC 9.4.0]\\nconfig file: /etc/mailman3/mailman.cfg\\ndb url: sqlite:////var/lib/mailman3/data/mailman.db\\ndevmode: DISABLED\\nREST root url: http://localhost:8001/3.1/\\nREST credentials: restadmin:ecDMTGsgk5nW/lGDt6gczxQcDFWCiA+t4W4HIGJ8IWllqZX3\\n'","time":{"start":1765071510499,"stop":1765072130010,"duration":619511}},{"uid":"2785f08fdb582cda","reportUrl":"../3033//#testresult/2785f08fdb582cda","status":"passed","time":{"start":1764985105004,"stop":1764985775238,"duration":670234}},{"uid":"77d2300488d8d362","reportUrl":"../3032//#testresult/77d2300488d8d362","status":"passed","time":{"start":1764898991391,"stop":1764899660616,"duration":669225}},{"uid":"c861dcf02e339c89","reportUrl":"../3031//#testresult/c861dcf02e339c89","status":"passed","time":{"start":1764812354438,"stop":1764813006848,"duration":652410}},{"uid":"896b2241179fb24b","reportUrl":"../3030//#testresult/896b2241179fb24b","status":"passed","time":{"start":1764726274985,"stop":1764726983683,"duration":708698}},{"uid":"72896aecf8188f23","reportUrl":"../3026//#testresult/72896aecf8188f23","status":"passed","time":{"start":1764639468870,"stop":1764640151910,"duration":683040}},{"uid":"fb4dcd96a5502695","reportUrl":"../3025//#testresult/fb4dcd96a5502695","status":"broken","statusDetails":"mailmanclient.restbase.connection.MailmanConnectionError: ('Could not connect to Mailman API: ', 'ConnectionError(MaxRetryError(\"HTTPConnectionPool(host=\\'10.37.199.105\\', port=8001): Max retries exceeded with url: /3.1/domains (Caused by NewConnectionError(\\'<urllib3.connection.HTTPConnection object at 0x7f3c4df66b10>: Failed to establish a new connection: [Errno 111] Connection refused\\'))\"))')","time":{"start":1764553127924,"stop":1764553751048,"duration":623124}},{"uid":"6d1216ae69863f67","reportUrl":"../3024//#testresult/6d1216ae69863f67","status":"passed","time":{"start":1764466694305,"stop":1764467308415,"duration":614110}},{"uid":"95249f591bdec5e6","reportUrl":"../3023//#testresult/95249f591bdec5e6","status":"passed","time":{"start":1764380334191,"stop":1764380991169,"duration":656978}},{"uid":"8ec05047dd71350b","reportUrl":"../3022//#testresult/8ec05047dd71350b","status":"passed","time":{"start":1764293847283,"stop":1764294473558,"duration":626275}},{"uid":"185065b219233bcd","reportUrl":"../3021//#testresult/185065b219233bcd","status":"passed","time":{"start":1764207489256,"stop":1764208132374,"duration":643118}}]},"tags":["asyncio","abort_on_fail"]},"source":"172237ba5f822a06.json","parameterValues":[]}