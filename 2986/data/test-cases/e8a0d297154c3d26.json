{"uid":"e8a0d297154c3d26","name":"test_mailman3_core_db","fullName":"tests.integration.relations.test_db#test_mailman3_core_db","historyId":"810e082a5963a194044ada7622e455fd","time":{"start":1762825020628,"stop":1762825641967,"duration":621339},"description":"Deploy Mailman3 Core to test the 'db' relation.","descriptionHtml":"<p>Deploy Mailman3 Core to test the 'db' relation.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"charm","time":{"start":1762825020477,"stop":1762825020477,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_focal","time":{"start":1762825020477,"stop":1762825020477,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1762825020477,"stop":1762825020477,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1762825020478,"stop":1762825020627,"duration":149},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1762825020478,"stop":1762825020478,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1762825020627,"stop":1762825020627,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Deploy Mailman3 Core to test the 'db' relation.","status":"passed","steps":[],"attachments":[{"uid":"a9acf54c2f03ca01","name":"log","source":"a9acf54c2f03ca01.txt","type":"text/plain","size":7839}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1762825641968,"stop":1762825641968,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1762825975891,"stop":1762825977614,"duration":1723},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1762825977615,"stop":1762825977620,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1762825977620,"stop":1762825977620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1762825977620,"stop":1762825977620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.relations"},{"name":"suite","value":"test_db"},{"name":"host","value":"runnervmw9dnm"},{"name":"thread","value":"14987-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.relations.test_db"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"4b679da4747c5","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":3,"broken":57,"skipped":0,"passed":420,"unknown":14,"total":494},"items":[{"uid":"bf3772ba712eeb44","reportUrl":"../2985//#testresult/bf3772ba712eeb44","status":"passed","time":{"start":1762738612138,"stop":1762739216107,"duration":603969}},{"uid":"ac490ee187ebc9bd","reportUrl":"../2984//#testresult/ac490ee187ebc9bd","status":"failed","statusDetails":"AssertionError: no postgres db url, Stderr: GNU Mailman 3.2.2 (La Villa Strangiato)\n  Python 3.8.10 (default, Mar 18 2025, 20:04:55) \n  [GCC 9.4.0]\n  config file: /etc/mailman3/mailman.cfg\n  db url: sqlite:////var/lib/mailman3/data/mailman.db\n  devmode: DISABLED\n  REST root url: http://localhost:8001/3.1/\n  REST credentials: restadmin:OQX5q/QlvGXF2gl6xWjRhrED/sh1kMuUujfg+7UjGXWdDY+J\n  \nassert 'db url: postgres://' in 'GNU Mailman 3.2.2 (La Villa Strangiato)\\nPython 3.8.10 (default, Mar 18 2025, 20:04:55) \\n[GCC 9.4.0]\\nconfig file: /etc/mailman3/mailman.cfg\\ndb url: sqlite:////var/lib/mailman3/data/mailman.db\\ndevmode: DISABLED\\nREST root url: http://localhost:8001/3.1/\\nREST credentials: restadmin:OQX5q/QlvGXF2gl6xWjRhrED/sh1kMuUujfg+7UjGXWdDY+J\\n'","time":{"start":1762652198727,"stop":1762652829663,"duration":630936}},{"uid":"2d6181b36ab3fe09","reportUrl":"../2983//#testresult/2d6181b36ab3fe09","status":"passed","time":{"start":1762565764733,"stop":1762566371904,"duration":607171}},{"uid":"ca5f3036d45073cf","reportUrl":"../2982//#testresult/ca5f3036d45073cf","status":"broken","statusDetails":"mailmanclient.restbase.connection.MailmanConnectionError: ('Could not connect to Mailman API: ', 'ConnectionError(MaxRetryError(\"HTTPConnectionPool(host=\\'10.197.229.45\\', port=8001): Max retries exceeded with url: /3.1/domains (Caused by NewConnectionError(\\'<urllib3.connection.HTTPConnection object at 0x7f591c8c8230>: Failed to establish a new connection: [Errno 111] Connection refused\\'))\"))')","time":{"start":1762479403616,"stop":1762480005977,"duration":602361}},{"uid":"f2c08a0bbe870e28","reportUrl":"../2981//#testresult/f2c08a0bbe870e28","status":"passed","time":{"start":1762393038825,"stop":1762393689282,"duration":650457}},{"uid":"a11c9dfc093ff332","reportUrl":"../2980//#testresult/a11c9dfc093ff332","status":"passed","time":{"start":1762306564507,"stop":1762307192883,"duration":628376}},{"uid":"edda3b4cd41123eb","reportUrl":"../2977//#testresult/edda3b4cd41123eb","status":"passed","time":{"start":1762220221466,"stop":1762220843945,"duration":622479}},{"uid":"e4bf087e4cd9829c","reportUrl":"../2976//#testresult/e4bf087e4cd9829c","status":"passed","time":{"start":1762133782299,"stop":1762134408546,"duration":626247}},{"uid":"9823b44fc86d1efd","reportUrl":"../2975//#testresult/9823b44fc86d1efd","status":"passed","time":{"start":1762047438890,"stop":1762048208476,"duration":769586}},{"uid":"2f1b3244d84cb675","reportUrl":"../2974//#testresult/2f1b3244d84cb675","status":"passed","time":{"start":1761960985167,"stop":1761961612358,"duration":627191}},{"uid":"797e3bfbfbad9dd5","reportUrl":"../2973//#testresult/797e3bfbfbad9dd5","status":"passed","time":{"start":1761874602646,"stop":1761875227584,"duration":624938}},{"uid":"2c4d9f9d60c37244","reportUrl":"../2972//#testresult/2c4d9f9d60c37244","status":"passed","time":{"start":1761788211617,"stop":1761788841162,"duration":629545}},{"uid":"89f5f6dff339b7ba","reportUrl":"../2969//#testresult/89f5f6dff339b7ba","status":"broken","statusDetails":"mailmanclient.restbase.connection.MailmanConnectionError: ('Could not connect to Mailman API: ', 'ConnectionError(MaxRetryError(\"HTTPConnectionPool(host=\\'10.87.68.91\\', port=8001): Max retries exceeded with url: /3.1/domains (Caused by NewConnectionError(\\'<urllib3.connection.HTTPConnection object at 0x7f4b5cf0e7e0>: Failed to establish a new connection: [Errno 111] Connection refused\\'))\"))')","time":{"start":1761701804724,"stop":1761702399624,"duration":594900}},{"uid":"7579c0bc4a3b1c13","reportUrl":"../2965//#testresult/7579c0bc4a3b1c13","status":"broken","statusDetails":"mailmanclient.restbase.connection.MailmanConnectionError: ('Could not connect to Mailman API: ', 'ConnectionError(MaxRetryError(\"HTTPConnectionPool(host=\\'10.200.207.189\\', port=8001): Max retries exceeded with url: /3.1/domains (Caused by NewConnectionError(\\'<urllib3.connection.HTTPConnection object at 0x7f7dac8134a0>: Failed to establish a new connection: [Errno 111] Connection refused\\'))\"))')","time":{"start":1761529070421,"stop":1761529716497,"duration":646076}},{"uid":"da304c11336ab882","reportUrl":"../2964//#testresult/da304c11336ab882","status":"passed","time":{"start":1761442957346,"stop":1761443587827,"duration":630481}},{"uid":"2f792619a9d342d7","reportUrl":"../2963//#testresult/2f792619a9d342d7","status":"passed","time":{"start":1761356195755,"stop":1761356810409,"duration":614654}},{"uid":"c687d79ff8be2755","reportUrl":"../2962//#testresult/c687d79ff8be2755","status":"passed","time":{"start":1761269824747,"stop":1761270445302,"duration":620555}},{"uid":"aa522f6e397eabbd","reportUrl":"../2961//#testresult/aa522f6e397eabbd","status":"failed","statusDetails":"AssertionError: no postgres db url, Stderr: GNU Mailman 3.2.2 (La Villa Strangiato)\n  Python 3.8.10 (default, Mar 18 2025, 20:04:55) \n  [GCC 9.4.0]\n  config file: /etc/mailman3/mailman.cfg\n  db url: sqlite:////var/lib/mailman3/data/mailman.db\n  devmode: DISABLED\n  REST root url: http://localhost:8001/3.1/\n  REST credentials: restadmin:JSdozYAMcA9cGkqIqn2c5Hovn+KeNjLi59Y18zet/byDE1w7\n  \nassert 'db url: postgres://' in 'GNU Mailman 3.2.2 (La Villa Strangiato)\\nPython 3.8.10 (default, Mar 18 2025, 20:04:55) \\n[GCC 9.4.0]\\nconfig file: /etc/mailman3/mailman.cfg\\ndb url: sqlite:////var/lib/mailman3/data/mailman.db\\ndevmode: DISABLED\\nREST root url: http://localhost:8001/3.1/\\nREST credentials: restadmin:JSdozYAMcA9cGkqIqn2c5Hovn+KeNjLi59Y18zet/byDE1w7\\n'","time":{"start":1761183404483,"stop":1761183996280,"duration":591797}},{"uid":"dff20716b0c27a45","reportUrl":"../2960//#testresult/dff20716b0c27a45","status":"passed","time":{"start":1761097049709,"stop":1761097702121,"duration":652412}},{"uid":"306e61768eca40cf","reportUrl":"../2959//#testresult/306e61768eca40cf","status":"passed","time":{"start":1761010617478,"stop":1761011209552,"duration":592074}}]},"tags":["asyncio","abort_on_fail"]},"source":"e8a0d297154c3d26.json","parameterValues":[]}