[32mINFO    [0m pytest_operator.plugin:plugin.py:766 Connecting to existing model localhost-localhost:test on unspecified cloud
[32mINFO    [0m juju.model:model.py:2098 Deploying ch:amd64/jammy/data-integrator-45
[32mINFO    [0m juju.model:model.py:2098 Deploying ch:amd64/jammy/postgresql-471
[32mINFO    [0m juju.model:model.py:2098 Deploying ch:amd64/jammy/pgbouncer-278
[32mINFO    [0m integration.test_upgrade_data_integrator:test_upgrade_data_integrator.py:51 Wait for applications to become active
[33mWARNING [0m juju.model:model.py:1564 relate is deprecated and will be removed. Use integrate instead.
[33mWARNING [0m juju.model:model.py:1564 relate is deprecated and will be removed. Use integrate instead.
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer (not enough units yet - 0/1)
  data-integrator/0 [allocating] waiting: waiting for machine
  data-integrator/1 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer (not enough units yet - 0/1)
  data-integrator/0 [allocating] waiting: waiting for machine
  data-integrator/1 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer (not enough units yet - 0/1)
  data-integrator/0 [allocating] waiting: waiting for machine
  data-integrator/1 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer (not enough units yet - 0/1)
  data-integrator/0 [allocating] waiting: waiting for machine
  data-integrator/1 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer (not enough units yet - 0/1)
  data-integrator/0 [allocating] waiting: waiting for machine
  data-integrator/1 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer (not enough units yet - 0/1)
  data-integrator/0 [allocating] waiting: waiting for machine
  data-integrator/1 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer (not enough units yet - 0/1)
  data-integrator/0 [allocating] waiting: waiting for machine
  data-integrator/1 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [allocating] waiting: waiting for machine
  postgresql/1 [allocating] waiting: waiting for machine
  postgresql/2 [allocating] waiting: waiting for machine
  pgbouncer (not enough units yet - 0/1)
  data-integrator/0 [allocating] waiting: waiting for machine
  data-integrator/1 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [executing] maintenance: installing PostgreSQL
  postgresql/1 [executing] waiting: agent initialising
  postgresql/2 [executing] maintenance: installing PostgreSQL
  pgbouncer/0 [executing] maintenance: Installing and configuring PgBouncer
  pgbouncer/1 [allocating] waiting: agent initialising
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [executing] maintenance: installing charm software
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [executing] maintenance: installing PostgreSQL
  postgresql/1 [executing] maintenance: installing PostgreSQL
  postgresql/2 [executing] maintenance: installing PostgreSQL
  pgbouncer/0 [executing] maintenance: Installing and configuring PgBouncer
  pgbouncer/1 [executing] waiting: Waiting to start PgBouncer
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [executing] waiting: awaiting for cluster to start
  postgresql/1 [executing] waiting: waiting to start PostgreSQL
  postgresql/2 [executing] waiting: waiting to start PostgreSQL
  pgbouncer/0 [executing] maintenance: Installing and configuring PgBouncer
  pgbouncer/1 [idle] blocked: waiting for backend database relation to initialise
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [executing] waiting: awaiting for cluster to start
  postgresql/1 [executing] waiting: awaiting for cluster to start
  postgresql/2 [executing] active: Primary
  pgbouncer/0 [executing] maintenance: Installing and configuring PgBouncer
  pgbouncer/1 [idle] blocked: waiting for backend database relation to initialise
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [executing] waiting: awaiting for cluster to start
  postgresql/1 [executing] waiting: awaiting for cluster to start
  postgresql/2 [executing] active: Primary
  pgbouncer/0 [executing] maintenance: Installing and configuring PgBouncer
  pgbouncer/1 [idle] blocked: waiting for backend database relation to initialise
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [executing] waiting: awaiting for cluster to start
  postgresql/1 [executing] waiting: awaiting for cluster to start
  postgresql/2 [executing] maintenance: reconfiguring cluster
  pgbouncer/0 [executing] maintenance: Installing and configuring PgBouncer
  pgbouncer/1 [idle] blocked: waiting for backend database relation to initialise
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [idle] waiting: awaiting for cluster to start
  postgresql/1 [executing] waiting: awaiting for cluster to start
  postgresql/2 [executing] maintenance: reconfiguring cluster
  pgbouncer/0 [executing] maintenance: Installing and configuring PgBouncer
  pgbouncer/1 [idle] blocked: waiting for backend database relation to initialise
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [idle] waiting: awaiting for cluster to start
  postgresql/1 [executing] waiting: awaiting for cluster to start
  postgresql/2 [executing] maintenance: reconfiguring cluster
  pgbouncer/0 [executing] maintenance: Installing and configuring PgBouncer
  pgbouncer/1 [idle] blocked: waiting for backend database relation to initialise
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [idle] waiting: awaiting for cluster to start
  postgresql/1 [executing] waiting: awaiting for cluster to start
  postgresql/2 [executing] maintenance: reconfiguring cluster
  pgbouncer/0 [executing] maintenance: Installing and configuring PgBouncer
  pgbouncer/1 [idle] blocked: waiting for backend database relation to initialise
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [idle] waiting: awaiting for cluster to start
  postgresql/1 [executing] waiting: awaiting for cluster to start
  postgresql/2 [executing] active: Primary
  pgbouncer/0 [executing] maintenance: Installing and configuring PgBouncer
  pgbouncer/1 [idle] blocked: waiting for backend database relation to initialise
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [idle] waiting: awaiting for cluster to start
  postgresql/1 [executing] waiting: awaiting for cluster to start
  postgresql/2 [executing] active: Primary
  pgbouncer/0 [executing] blocked: PgBouncer service pgbouncer-pgbouncer@0 not running
  pgbouncer/1 [executing] blocked: waiting for backend database relation to initialise
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [idle] waiting: awaiting for cluster to start
  postgresql/1 [executing] waiting: awaiting for cluster to start
  postgresql/2 [idle] active: Primary
  pgbouncer/0 [executing] maintenance: Initialising backend-database relation
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [executing] waiting: awaiting for cluster to start
  postgresql/1 [executing] waiting: awaiting for cluster to start
  pgbouncer/0 [idle] blocked: PgBouncer service pgbouncer-pgbouncer@0 not running
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [executing] active: 
  postgresql/1 [executing] active: 
  postgresql/2 [executing] active: 
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/0 [executing] active: 
  postgresql/1 [executing] active: 
  postgresql/2 [executing] active: Primary
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  postgresql/2 [idle] active: Primary
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] maintenance: Updating database relation connection information
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  pgbouncer/0 [idle] blocked: backend database relation not ready
  pgbouncer/1 [idle] blocked: backend database relation not ready
  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product
  data-integrator/1 [idle] blocked: Please relate the data-integrator with the desired product